# Milestone

## WEEK 1 : 프로젝트 설계를 완료한다.

### TODO LIST

- [ ] 주차 별 마일스톤을 설정한다.
- [ ] 요구사항에 대한 분석을 완료한다.
- [ ] 이벤트 시퀀스 다이어그램을 작성한다.
- [ ] ERD 설계를 완료한다.
- [ ] API 명세 문서를 작성한다.

|     | 작업 | 예상 시간 (시간) |
|-----|------|----------------|
| 1   | **WEEK 1: 프로젝트 설계 및 Mock API 작성** | **40** |
| 1.1 | 주차 별 마일스톤 설정 | 2 |
| 1.2 | 요구사항 분석 | 6 |
| 1.3 | 이벤트 시퀀스 다이어그램 작성 | 8 |
| 1.4 | ERD 설계 | 8 |
| 1.5 | API 명세 문서 작성 | 8 |
| 1.6 | Mock API 구현 | 8 |

<br>

## WEEK 2 : MSA 구조 설계와 User 서비스 및 인증/인가 서비스를 구현한다.

### TODO LIST
- MSA 구조로 애플리케이션을 만들기 위한 설계를 완료한다
  - [ ] 도메인 분석 및 서비스 식별
  - [ ] 각 서비스의 API 정의
  - [ ] 각 서비스의 DB 선택
  - [ ] 서비스 간 통신 방식 선택

- User 서비스의 가입 및 인증 기능 개발을 완료한다.
  - [ ] 새로운 유저의 회원가입을 위한 API 개발
  - [ ] 기존 유저의 로그인을 위한 Spring Security 설정
  - [ ] 접속중인 유저의 정보를 조회하기 위한 API 개발


- JWT를 이용한 API Gateway에서의 인가 기능 개발을 완료한다.
  - [ ] 인증 성공 후 JWT를 생성하고 처리하는 로직 구현
  - [ ] API Gateway에 JWT 복호화 및 인가를 위한 Filter 추가
  - [ ] 권한이 필요한 호출에 대해 Filter 적용

|  | 작업 | 예상 시간 (시간) |
|--|------|------------|
| 2 | **WEEK 2: MSA 설계 및 TDD로 프로젝트 API 구현** | **40**     |
| 2.1 | MSA 구조 설계 |            |
| 2.1.1 | 도메인 분석 및 서비스 식별 | 4          |
| 2.1.2 | 각 서비스의 API 정의 | 4          |
| 2.1.3 | 각 서비스의 DB 선택 | 4          |
| 2.1.4 | 서비스 간 통신 방식 선택 | 4          |
| 2.2 | User 서비스의 가입 및 인증 기능 개발 |            |
| 2.2.1 | 새로운 유저의 회원가입을 위한 API 개발 | 4          |
| 2.2.2 | 기존 유저의 로그인을 위한 Spring Security 설정 | 4 
| 2.2.3 | 접속중인 유저의 정보를 조회하기 위한 API 개발 | 4          |
| 2.3 | JWT를 이용한 API Gateway에서의 인가 기능 개발 |            |
| 2.3.1 | 인증 성공 후 JWT를 생성하고 처리하는 로직 구현 | 6          |
| 2.3.2 | API Gateway에 JWT 복호화 및 인가를 위한 Filter 추가 | 4          |
| 2.3.3 | 권한이 필요한 호출에 대해 Filter 적용 | 2          |

<br>

## WEEK 3 : Concert 서비스와 Seat 서비스의 기능을 개발한다.

### TODO LIST
- Concert 서비스의 콘서트 생성, 검색, 조회, 삭제 기능 개발을 완료한다.
  - [ ] 콘서트 생성 API 개발
  - [ ] 콘서트 검색 API 개발
  - [ ] 콘서트 조회 API 개발
  - [ ] 콘서트 삭제 API 개발


- Concert 서비스의 콘서트 스케쥴 생성, 조회, 삭제 기능 개발을 완료한다.
  - [ ] 콘서트와 콘서트 스케쥴 엔티티 간 연관관계 관리
  - [ ] 콘서트 스케쥴 생성 API 개발
  - [ ] 콘서트의 예약 가능한 스케쥴 목록 조회 API 개발
  - [ ] 콘서트 스케쥴 삭제 API 개발 


- Seat 서비스의 좌석 생성, 조회 기능 개발을 완료한다
  - [ ] 좌석 생성 API 개발
  - [ ] 좌석 조회 API 개발


|  | 작업 | 예상 시간 (시간) |
|--|------|------------|
| 3 | **WEEK 3: TDD로 프로젝트 API 구현** | **36**     |
| 3.1 | Concert 서비스의 콘서트 관련 기능 개발 |            |
| 3.1.1 | 콘서트 생성 API 개발 | 4          |
| 3.1.2 | 콘서트 검색 API 개발 | 6          |
| 3.1.3 | 콘서트 조회 API 개발 | 4          |
| 3.1.4 | 콘서트 삭제 API 개발 | 2          |
| 3.2 | Concert 서비스의 콘서트 스케쥴 관련 기능 개발 |            |
| 3.2.1 | 콘서트와 콘서트 스케쥴 엔티티 간 연관관계 관리 | 2          |
| 3.2.2 | 콘서트 스케쥴 생성 API 개발 | 4          |
| 3.2.3 | 콘서트의 예약 가능한 스케쥴 목록 조회 API 개발 | 2          |
| 3.2.4 | 콘서트 스케쥴 삭제 API 개발 | 4          |
| 3.3 | Seat 서비스의 좌석 생성, 조회 기능 개발 |            |
| 3.3.1 | 좌석 생성 API 개발 | 4          |
| 3.3.2 | 좌석 조회 API 개발 | 4          |

<br>

## WEEK 4 : Seat Service의 좌석 잠금 기능과 Reservation 서비스의 기능을 개발한다.

### TODO LIST
- 예약을 진행하기 위한 Seat 서비스의 좌석 잠금 기능의 개발을 완료한다.
  - [ ] 좌석 잠금 API 개발
  - [ ] 동시성 제어를 위한 분산락 시스템 적용
  - [ ] 좌석 잠금 해제 API 개발


- Reservation 서비스의 예약 그룹 생성, 조회, 취소 기능의 개발을 완료한다.
  - [ ] 예약 그룹 생성 API 개발
  - [ ] 예약 그룹 조회 API 개발
  - [ ] 예약 그룹 취소 API 개발

  - Reservation 서비스의 예약 생성, 조회, 취소 기능의 개발을 완료한다.
  - [ ] 예약 그룹과 예약 엔티티 간 연관관계 관리
  - [ ] 예약 생성 API 개발
  - [ ] 예약 조회 API 개발
  - [ ] 예약 취소 API 개발

|    | 작업 | 예상 시간 (시간) |
|----|------|------------|
| 4 | **WEEK 4: TDD로 프로젝트 API 구현** | **38**     |
| 4.1 | Seat 서비스의 좌석 잠금 기능의 개발 |            |
| 4.1.1 | 좌석 잠금 API 개발 | 4          |
| 4.1.2 | 동시성 제어를 위한 분산락 시스템 적용 | 6          |
| 4.1.3 | 좌석 잠금 해제 API 개발 | 2          |
| 4.2 | Reservation 서비스의 예약 그룹 관련 기능 개발 |            |
| 4.2.1 | 예약 그룹 생성 API 개발 | 4          |
| 4.2.2 | 예약 그룹 조회 API 개발 | 4          |
| 4.2.3 | 예약 그룹 취소 API 개발 | 4          |
| 4.3 | Seat 서비스의 좌석 생성, 조회 기능 개발 |            |
| 4.3.1 | 예약 그룹과 예약 엔티티 간 연관관계 관리 | 2          |
| 4.3.2 | 예약 생성 API 개발 | 4          |
| 4.3.3 | 예약 조회 API 개발 | 4          |
| 4.3.4 | 예약 취소 API 개발 | 4          |

<br>

## WEEK 5 : Wallet 서비스와 Payment 서비스의 기능을 개발하고 서비스 간 통신을 구현한다.

### TODO LIST
- Payment 서비스의 결제 처리, 취소 기능 개발을 완료한다.
  - [ ] 결제 처리 API 개발
  - [ ] 결제 취소 API 개발

- Wallet 서비스의 지갑 관련 기능 개발을 완료한다.
  - [ ] 지갑 생성 API 개발
  - [ ] 잔액 충전 API 개발
  - [ ] 잔액 조회 API 개발
  - [ ] 잔액 지불 API 개발
  - [ ] 충전 및 사용 내역 조회 API 개발

- 서비스 간 통신을 구현 완료한다.
  - [ ] OpenFeign을 활용하여 서비스 간 데이터 조회 구현
  - [ ] Kafka를 활용하여 서비스 간 이벤트 기반 통신 구현

|    | 작업 | 예상 시간 (시간) |
|----|------|------------|
| 5 | **WEEK 5: TDD로 프로젝트 API 구현** | **40**     |
| 5.1 | Payment 서비스의 결제 관련 기능의 개발 |            |
| 5.1.1 | 결제 처리 API 개발 | 4          |
| 5.1.2 | 결제 취소 API 개발 | 4          |
| 5.2 | Wallet 서비스의 지갑 관련 기능 개발 |            |
| 5.2.1 | 지갑 생성 API 개발 | 4          |
| 5.2.2 | 잔액 충전 API 개발 | 4          |
| 5.2.3 | 잔액 조회 API 개발 | 4          |
| 5.2.4 | 잔액 지불 API 개발 | 4          |
| 5.2.5 | 충전 및 사용 내역 조회 API 개발 | 4          |
| 5.3 | 서비스 간 통신 구현 |            |
| 5.3.1 | OpenFeign을 활용하여 서비스 간 데이터 조회 구현 | 4          |
| 5.3.2 | Kafka를 활용하여 서비스 간 이벤트 기반 통신 구현 | 8          |

<br>

## WEEK 6 : Queue 서비스의 기능을 개발하고 코드 리팩토링을 진행한다.

### TODO LIST
- Queue 서비스의 대기열 관련 기능 개발을 완료한다.
  - [ ] 대기열 추가 API 개발
  - [ ] 대기열 상태 조회 API 개발
  - [ ] 대기열 취소 API 개발

- [ ] 구현된 전체 로직의 동작 테스트를 완료한다.

- [ ] 동시성 이슈에 대한 문제 해결이 적절한지 확인하고 코드를 수정한다.


- [ ] 코드 리펙토링을 진행한다.

|    | 작업 | 예상 시간 (시간) |
|----|------|------------|
| 6  | **WEEK 6: 전체 테스트 및 코드 리팩토링** | **40**     |
| 6.1 | 잔액 관련 기능 개발 |            |
| 6.1.1 | 대기열 추가 API 개발 | 8          |
| 6.1.2 | 대기열 상태 조회 API 개발 | 2          |
| 6.1.3 | 대기열 취소 API 개발 | 4          |
| 6.2 | 구현된 전체 로직의 동작 테스트 | 8          |
| 6.3 | 동시성 이슈 검토 및 코드 수정 | 12         |
| 6.4 | 코드 리팩토링 | 6          |

<br>

## WEEK 7 : 모니터링 및 부하테스트 시스템을 구축하고 Docker로 배포한다.

### TODO LIST
- [ ] Zipkin, Grafana, Prometheus를 활용한 모니터링 시스템을 구축한다.

- [ ] 대기열 시스템에 대하여 k6를 활용한 부하테스트를 진행한다.

- [ ] 코드 리펙토링을 진행한다.

- [ ] 빌드 후 Docker로 배포한다.

|    | 작업 | 예상 시간 (시간) |
|----|------|------------|
| 7  | **WEEK 7: 부하 테스트 및 코드 리팩토링** | **36**     |
| 7.1 | Zipkin, Grafana, Prometheus를 활용한 모니터링 시스템을 구축한다. | 12           |
| 7.2 | 대기열 시스템에 대하여 k6를 활용한 부하테스트를 진행한다. | 12          |
| 7.3 | 코드 리팩토링 | 4          |
| 7.4 | 코드 리팩토링 | 8          |